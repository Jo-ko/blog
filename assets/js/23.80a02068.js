(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{584:function(s,t,a){"use strict";a.r(t);var n=a(3),r=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h2",{attrs:{id:"页面安全"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#页面安全"}},[s._v("#")]),s._v(" 页面安全")]),s._v(" "),a("h3",{attrs:{id:"xss攻击"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#xss攻击"}},[s._v("#")]),s._v(" XSS攻击")]),s._v(" "),a("h4",{attrs:{id:"存储型xss"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#存储型xss"}},[s._v("#")]),s._v(" 存储型XSS")]),s._v(" "),a("ol",[a("li",[s._v("首先黑客利用站点漏洞将一段恶意 JavaScript 代码提交到网站的数据库中,(通常是通过文本框输入一段js脚本,服务端未做输入校验)")]),s._v(" "),a("li",[s._v("然后用户向网站请求包含了恶意 JavaScript 脚本的页面")]),s._v(" "),a("li",[s._v("当用户浏览该页面的时候，恶意脚本就会将用户的 Cookie 信息等数据上传到服务器。")])]),s._v(" "),a("h4",{attrs:{id:"反射型xss"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#反射型xss"}},[s._v("#")]),s._v(" 反射型XSS")]),s._v(" "),a("ol",[a("li",[s._v("将恶意脚本作为用户输入的一部分发送给服务端")]),s._v(" "),a("li",[s._v("服务端接受该信息并返回给用户")])]),s._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" express "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'express'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("var")]),s._v(" router "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" express"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("Router")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("/* GET home page. */")]),s._v("\nrouter"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("get")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'/'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[s._v("req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" next")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("render")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'index'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v(" title"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'Express'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("xss"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v("req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("query"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("xss "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 这里接受了用户传来的未知参数,作为信息的一部分返还给用户")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" router"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("h4",{attrs:{id:"拦截型xss"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#拦截型xss"}},[s._v("#")]),s._v(" 拦截型XSS")]),s._v(" "),a("p",[s._v("一般通过网络劫持,在传输的过程或者用户使用的过程中修改DOM结构来执行恶意脚本\n防御方法")]),s._v(" "),a("ol",[a("li",[s._v("设置HttpOnly来限制脚本读取cookie")]),s._v(" "),a("li",[s._v("对用户输入的内容进行编码过滤")]),s._v(" "),a("li",[s._v("设置CSP来限制脚本的加载")])]),s._v(" "),a("h3",{attrs:{id:"csrf攻击"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#csrf攻击"}},[s._v("#")]),s._v(" CSRF攻击")]),s._v(" "),a("p",[s._v("诱骗用户点击钓鱼链接,获取用户的cookie等状态后进行跨站请求\n防御方法:")]),s._v(" "),a("ol",[a("li",[s._v("设置Cookie 的 SameSite 属性")]),s._v(" "),a("li",[s._v("验证请求来源站点属性Origin")]),s._v(" "),a("li",[s._v("设置CSRF Token来校验站点")])]),s._v(" "),a("h3",{attrs:{id:"同源策略"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#同源策略"}},[s._v("#")]),s._v(" 同源策略")]),s._v(" "),a("p",[s._v("如果两个 URL 的协议、域名和端口都相同，我们就称这两个 URL 同源")]),s._v(" "),a("h3",{attrs:{id:"cors策略"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cors策略"}},[s._v("#")]),s._v(" CORS策略")]),s._v(" "),a("blockquote",[a("p",[s._v("全称跨站资源共享,是为了避开同源策略的跨域策略")])]),s._v(" "),a("ol",[a("li",[s._v("CSP 跨站资源加载")]),s._v(" "),a("li",[s._v("CORS 跨域资源请求")]),s._v(" "),a("li",[s._v("postMessage 跨域文档通信")])])])}),[],!1,null,null,null);t.default=r.exports}}]);